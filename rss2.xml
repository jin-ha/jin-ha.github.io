<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>datahack</title>
    <link>https://datahack.dev/</link>
    
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>datahack의 블로그</description>
    <pubDate>Fri, 12 Mar 2021 09:48:41 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Logstash Java filter plugin 개발</title>
      <link>https://datahack.dev/2021/03/11/data/elastic/logstash-java-filter-plugin/</link>
      <guid>https://datahack.dev/2021/03/11/data/elastic/logstash-java-filter-plugin/</guid>
      <pubDate>Thu, 11 Mar 2021 12:26:46 GMT</pubDate>
      <description>
      
        &lt;p&gt;Elastic 공식 Docs의 &lt;a href=&quot;https://www.elastic.co/guide/en/logstash/current/java-filter-plugin.html#java-filter-plugin&quot;&gt;How to write a Java filter plugin&lt;/a&gt; 에 잘 나와있지만,&lt;br&gt;내용대로 진행시 몇가지 에러가 발생했다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FAILURE: Build failed with an exception&lt;/li&gt;
&lt;li&gt;error: package co.elastic.logstash.api does not exist&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;으로 검색하여 들어오신 분에게 도움이 되었으면 합니다!&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>Elastic 공식 Docs의 <a href="https://www.elastic.co/guide/en/logstash/current/java-filter-plugin.html#java-filter-plugin">How to write a Java filter plugin</a> 에 잘 나와있지만,<br>내용대로 진행시 몇가지 에러가 발생했다.</p><ul><li>FAILURE: Build failed with an exception</li><li>error: package co.elastic.logstash.api does not exist</li></ul><p>으로 검색하여 들어오신 분에게 도움이 되었으면 합니다!</p><a id="more"></a><h1 id="intro"><a href="#intro" class="headerlink" title="intro"></a>intro</h1><p>이때까지 Logstash 를 사용하면서 기본 input, filter, output 플러그인들만 사용했었는데<br>급하게 특정 필드의 암호화/복호화가 필요하여 구글링결과 Java filter plugin 라는 것을 찾았다.</p><p>해당 플러그인을 통해 아래와 같이 input 으로 들어온 특정 필드를 내가 만든 Java 코드를 통해 변환시킬 수 있다.</p><figure class="highlight js"><figcaption><span>Java filter plugin 을 통해 개발한 custom 암복호화 filter</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter &#123;</span><br><span class="line">    my_decrypt_plugin &#123;</span><br><span class="line">        source =&gt; <span class="string">"encrypted_field"</span></span><br><span class="line">        key =&gt; <span class="string">"password"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>이 문서에서는 Docs의 예제 코드를 plugin으로 만들때 발생하는 <code>에러 해결방법</code>을 설명합니다.</p><h1 id="Java-filter-plugin"><a href="#Java-filter-plugin" class="headerlink" title="Java filter plugin"></a>Java filter plugin</h1><p>전체적인 방식은 <a href="https://www.elastic.co/guide/en/logstash/current/java-filter-plugin.html#java-filter-plugin">How to write a Java filter plugin</a> 에 잘 나와있지만,<br>해당 내용대로 진행시 (특정 Logstash 버전에서는) 몇가지 에러가 발생한다..</p><h2 id="Logstash-다운로드"><a href="#Logstash-다운로드" class="headerlink" title="Logstash 다운로드"></a>Logstash 다운로드</h2><p>다음 방법 중 환경에 맞게 Logstash 를 다운로드<br><a href="https://www.elastic.co/kr/downloads/logstash">Elastic - Download Logstash</a></p><figure class="highlight shell"><figcaption><span>Logstash 버전 확인</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bin/logstash --version</span></span><br><span class="line">Using bundled JDK: /usr/share/logstash/jdk</span><br><span class="line">logstash 7.11.2</span><br></pre></td></tr></table></figure><h2 id="Logstash-core-가-있어야-filter-plugin-빌드-가능"><a href="#Logstash-core-가-있어야-filter-plugin-빌드-가능" class="headerlink" title="Logstash-core 가 있어야 filter-plugin 빌드 가능"></a>Logstash-core 가 있어야 filter-plugin 빌드 가능</h2><figure class="highlight bash"><figcaption><span>Logstash-core compile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 나에게 맞는 버전의 &lt;branch_name&gt; 으로 다운</span></span><br><span class="line"><span class="comment"># git clone --branch &lt;branch_name&gt; --single-branch https://github.com/elastic/logstash.git &lt;target_folder&gt;</span></span><br><span class="line"><span class="built_in">cd</span> ~/mywork</span><br><span class="line">mkdir logstash_core</span><br><span class="line"><span class="built_in">cd</span> logstash_core</span><br><span class="line">git <span class="built_in">clone</span> --branch 7.11 --single-branch https://github.com/elastic/logstash.git .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 빌드</span></span><br><span class="line">./gradlew assemble</span><br><span class="line"></span><br><span class="line"><span class="comment"># core 빌드 확인</span></span><br><span class="line">ll logstash-core/build/libs/</span><br><span class="line">-rw-r--r-- 1 root root 1349807 Feb 26 02:52 logstash-core-7.11.2-javadoc.jar</span><br><span class="line">-rw-r--r-- 1 root root  437112 Feb 26 02:52 logstash-core-7.11.2-sources.jar</span><br><span class="line">-rw-r--r-- 1 root root  645893 Feb 26 02:52 logstash-core-7.11.2.jar</span><br></pre></td></tr></table></figure><h2 id="logstash-filter-java-예제코드-다운로드"><a href="#logstash-filter-java-예제코드-다운로드" class="headerlink" title="logstash-filter-java 예제코드 다운로드"></a>logstash-filter-java 예제코드 다운로드</h2><figure class="highlight bash"><figcaption><span>logstash-filter-java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/mywork</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/logstash-plugins/logstash-filter-java_filter_example</span><br><span class="line"></span><br><span class="line"><span class="comment"># elastic Docs에 있는대로 gradle.properties 만들어서 한줄추가</span></span><br><span class="line"><span class="comment"># LOGSTASH_CORE_PATH=/root/mywork/logstash_core/logstash-core/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Docs 의 내용대로 다운받은 Java 코드를 원하는 필터의 형태로 수정해준다.</span></span><br></pre></td></tr></table></figure><h2 id="에러발생"><a href="#에러발생" class="headerlink" title="에러발생"></a>에러발생</h2><p>이제 <a href="https://www.elastic.co/guide/en/logstash/current/java-filter-plugin.html#_running_the_gradle_packaging_task_3">이 내용</a>대로 예제코드들을 gem으로 만들려고 <code>./gradlew gem</code> 하면 에러 발생</p><h3 id="첫번째-에러"><a href="#첫번째-에러" class="headerlink" title="첫번째 에러"></a>첫번째 에러</h3><figure class="highlight bash"><figcaption><span>첫번째 에러</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line">** Where:*</span><br><span class="line">Build file <span class="string">'/root/mywork/logstash-filter-java_filter_example/build.gradle'</span> line: 102</span><br><span class="line">** What went wrong:*</span><br><span class="line"></span><br><span class="line">A problem occurred configuring root project <span class="string">'logstash-filter-java_filter_example'</span>.</span><br><span class="line">&gt; Could not create task <span class="string">':gem'</span>.</span><br><span class="line">&gt; No signature of method: org.gradle.api.internal.tasks.DefaultTaskDependency<span class="variable">$TaskDependencySet</span>.getAt() is applicable <span class="keyword">for</span> argument types: (ArrayList) values: [[task <span class="string">':downloadAndInstallJRuby'</span>, task <span class="string">':removeObsoleteJars'</span>, ...]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ... blah-blah </span></span><br></pre></td></tr></table></figure><p>구글링결과 위와 같은 에러는 많은 글이 있었다.<br>출처: <a href="https://discuss.elastic.co/t/logstash-java-filter-plugin-example-gradlew-gem-error/257110">https://discuss.elastic.co/t/logstash-java-filter-plugin-example-gradlew-gem-error/257110</a><br>의 내용대로 <code>build.gradle</code> 을 수정</p><figure class="highlight js"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dependsOn [downloadAndInstallJRuby, removeObsoleteJars, vendor, generateRubySupportFiles]</span><br><span class="line">을</span><br><span class="line">dependsOn ([downloadAndInstallJRuby, removeObsoleteJars, vendor, generateRubySupportFiles])</span><br><span class="line">으로 수정시 에러 해결</span><br></pre></td></tr></table></figure><h3 id="두번째-에러"><a href="#두번째-에러" class="headerlink" title="두번째 에러"></a>두번째 에러</h3><figure class="highlight bash"><figcaption><span>두번째 에러</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">error: package co.elastic.logstash.api does not exist</span><br><span class="line">import co.elastic.logstash.api.Configuration;</span><br><span class="line">                              ^</span><br></pre></td></tr></table></figure><p>패키지를 못찾는 에러 발생<br>여기저기 구글링 중 결국 중국 블로그에서 해결책을 찾았다.<br>출처: <a href="https://www.cnblogs.com/shiqi17/p/14168550.html">https://www.cnblogs.com/shiqi17/p/14168550.html</a></p><figure class="highlight bash"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">implementation fileTree(dir: LOGSTASH_CORE_PATH, include: <span class="string">"**/logstash-core-?.?.?.jar"</span>)</span><br><span class="line">을</span><br><span class="line">implementation fileTree(dir: LOGSTASH_CORE_PATH, include: <span class="string">"**/logstash-core-?.??.?.jar"</span>)</span><br><span class="line">으로 수정시 에러 해결</span><br></pre></td></tr></table></figure><p>원인은 내가 받은 Logstash의 마이너 버전이 7.11.2 으로 두자리 숫자라 제대로 맵핑이 안되서 발생된 것이었다.<br><code>Logstash 의 버전을 확인하여 마이너 버전이 두자리일 경우에만 build.gradle 의 위 코드 ?.?.? 을 ?.??.? 으로 수정 하면 됩니다.</code></p><h2 id="gem-으로-빌드된-custom-plugin을-Logstash에-설치"><a href="#gem-으로-빌드된-custom-plugin을-Logstash에-설치" class="headerlink" title="gem 으로 빌드된 custom plugin을 Logstash에 설치"></a>gem 으로 빌드된 custom plugin을 Logstash에 설치</h2><figure class="highlight bash"><figcaption><span>Java filter plugin install</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ bin/logstash-plugin install --no-verify --<span class="built_in">local</span> /root/mywork/logstash-filter-java_filter_example/logstash-filter-java_filter_example-1.0.2.gem</span><br><span class="line">...</span><br><span class="line">Installing logstash-filter-java_filter_example</span><br><span class="line">Installation successful</span><br></pre></td></tr></table></figure><h2 id="설치한-플러그인-실행"><a href="#설치한-플러그인-실행" class="headerlink" title="설치한 플러그인 실행"></a>설치한 플러그인 실행</h2><figure class="highlight bash"><figcaption><span>example plugin test</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ cat java_filter.conf</span><br><span class="line">input &#123;</span><br><span class="line">  generator &#123; message =&gt; <span class="string">"Hello world!"</span> count =&gt; 1 &#125;</span><br><span class="line">&#125;</span><br><span class="line">filter &#123;</span><br><span class="line">  java_filter_example &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">output &#123;</span><br><span class="line">  stdout &#123; codec =&gt; rubydebug &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ bin/logstash -f ./java_filter.conf</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">       <span class="string">"message"</span> =&gt; <span class="string">"!dlrow olleH"</span>,</span><br><span class="line">      <span class="string">"@version"</span> =&gt; <span class="string">"1"</span>,</span><br><span class="line">    <span class="string">"@timestamp"</span> =&gt; 2021-02-26T04:05:27.633Z,</span><br><span class="line">          <span class="string">"host"</span> =&gt; <span class="string">"host"</span>,</span><br><span class="line">      <span class="string">"sequence"</span> =&gt; 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>https://datahack.dev/2021/03/11/data/elastic/logstash-java-filter-plugin/#disqus_thread</comments>
    </item>
    
    <item>
      <title>pip(Pypi) 미러서버 설정</title>
      <link>https://datahack.dev/2020/04/19/etc/pip-mirror/</link>
      <guid>https://datahack.dev/2020/04/19/etc/pip-mirror/</guid>
      <pubDate>Sun, 19 Apr 2020 12:23:46 GMT</pubDate>
      <description>
      
        &lt;p&gt;데이터분석 공부를 위해 셋팅해둔 docker 이미지(jupyter)를 오랜만에 다시 build 하니 tensorflow 패키지 다운로드가 너무 오래 걸려서 build가 timeout이 되었다.&lt;br&gt;Pypi(pip)의 mirror 설정으로 변경 후 다시 실행하니 바로 해결!&lt;/p&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>데이터분석 공부를 위해 셋팅해둔 docker 이미지(jupyter)를 오랜만에 다시 build 하니 tensorflow 패키지 다운로드가 너무 오래 걸려서 build가 timeout이 되었다.<br>Pypi(pip)의 mirror 설정으로 변경 후 다시 실행하니 바로 해결!</p><a id="more"></a><p>mirror 서버 설정은 아래와 같이 <code>~/.pip/pip.conf</code>을 국내 서버로 설정</p><figure class="highlight js"><figcaption><span>~/.pip/pip.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url=http:<span class="comment">//ftp.daumkakao.com/pypi/simple</span></span><br><span class="line">trusted-host=ftp.daumkakao.com</span><br></pre></td></tr></table></figure><p>Dockerfile의 경우 아래와 같이 <code>.pip</code> 디렉토리 생성후 동일한 설정</p><figure class="highlight dockerfile"><figcaption><span>Dockerfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir ~/.pip</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">printf</span> <span class="string">"[global]\nindex-url=http://ftp.daumkakao.com/pypi/simple\ntrusted-host=ftp.daumkakao.com"</span> &gt; ~/.pip/pip.conf</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>https://datahack.dev/2020/04/19/etc/pip-mirror/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Github page 블로그 시작 (hexo icarus 설정)</title>
      <link>https://datahack.dev/2020/04/18/etc/hexo-blog/</link>
      <guid>https://datahack.dev/2020/04/18/etc/hexo-blog/</guid>
      <pubDate>Sat, 18 Apr 2020 02:15:59 GMT</pubDate>
      <description>
      
        &lt;p&gt;예전부터 미뤄왔던 블로그를 이제서야 시작해본다.&lt;br&gt;첫글은 hexo icarus 테마 중 내가 몇가지 수정한 것을 포스팅&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;한글 font 변경&lt;/li&gt;
&lt;li&gt;profile 변경&lt;/li&gt;
&lt;li&gt;article 가독성을 위해 변경&lt;/li&gt;
&lt;li&gt;그 외에도 몇가지 (방문자수 등)&lt;/li&gt;
&lt;/ul&gt;
      
      </description>
      
      
      <content:encoded><![CDATA[<p>예전부터 미뤄왔던 블로그를 이제서야 시작해본다.<br>첫글은 hexo icarus 테마 중 내가 몇가지 수정한 것을 포스팅</p><ul><li>한글 font 변경</li><li>profile 변경</li><li>article 가독성을 위해 변경</li><li>그 외에도 몇가지 (방문자수 등)</li></ul><a id="more"></a><h1 id="intro"><a href="#intro" class="headerlink" title="intro"></a>intro</h1><p>hexo 관련 구글링을 하다보면 거의 <code>모든 hexo 블로그의 시작 포스팅은 이 hexo 설정글</code>이다.<br>hexo 설치나 기본 포스팅 방법들은 구글링하면 잘 정리해둔 블로그들이 엄청 많으니 생략하고,<br>나도 그 설정글 작성에 동참을 해보기 위해 몇가지 내가 수정한 사항들만 포스팅해본다.</p><blockquote><p>수정한 내용 중 틀린부분이 있을 수 있습니다.<br>혹시 틀린부분이나 더 정확한 수정방법이 있으면 댓글 남겨주세요.</p></blockquote><h1 id="icarus-설정"><a href="#icarus-설정" class="headerlink" title="icarus 설정"></a>icarus 설정</h1><p><a href="https://github.com/ppoffice/hexo-theme-icarus/releases/tag/3.0.0">icarus 릴리즈노트</a>를 보면 3.0 대로 버전이 올라가면서 레이아웃이 <code>JSX</code>과 <code>Inferno.js</code>으로 모두 변경되었다고 한다.<br>icarus 설정글 구글링시 대부분 기존 html 템플릿 엔진인 ejs를 기준으로 작성된 블로그가 대부분이다..<br>프론트엔드쪽을 많이 본적은 없지만 jsx 문법은 꽤나 직관적인것 같다. 아직은 몇가지 스타일만 변경하였는데 jsx도 조금씩 수정해봐야겠다.</p><blockquote><p>이 글은 icarus 3.0.0 버전을 기준으로 작성합니다.</p></blockquote><h2 id="한글-font-변경"><a href="#한글-font-변경" class="headerlink" title="한글 font 변경"></a>한글 font 변경</h2><p>icarus 기본 한글 글씨체도 나쁘지 않았지만, <a href="https://hangeul.naver.com/2017/nanum">나눔스퀘어라운드</a> 폰트를 사용하기로 했다.</p><ol><li><p>폰트 cdn import<br>아래 cdn 주소를 import 해준다.</p><figure class="highlight js"><figcaption><span>themes/icarus/source/css/default.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> url(https:<span class="comment">//cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.css)</span></span><br></pre></td></tr></table></figure></li><li><p>폰트 지정<br>기존 <code>$family-sans-serif</code> 라인을 주석처리 한뒤, 아래처럼 지정한다.</p><figure class="highlight js"><figcaption><span>themes/icarus/include/style/base.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $family-sans-serif ?= Ubuntu, Roboto, 'Open Sans', 'Microsoft YaHei', sans-serif</span></span><br><span class="line">$family-sans-serif ?= <span class="string">'NanumSquareRound'</span>, <span class="string">"Helvetica Neue"</span>, sans-serif</span><br></pre></td></tr></table></figure></li></ol><h2 id="profile-변경"><a href="#profile-변경" class="headerlink" title="profile 변경"></a>profile 변경</h2><p>기존 profile 위젯의 하단은 무조건 follow 라는 github 링크 버튼이 따라다니는데, 뭔가 테마에 맞지 않는 파란색으로 느껴졌다. 그리고 포스팅 내용을 본 뒤 home으로 가는 버튼이 있으면 좋을것 같아 해당 위치의 버튼을 home 버튼기능으로 변경하고, 디자인도 변경하였다.</p><p>icarus 테마는 <code>Bulma</code>라는 CSS 프레임웍을 사용한다.<br><a href="https://bulma.io/documentation/elements/button/#styles">https://bulma.io/documentation/elements/button/#styles</a> 에서 다양한 버튼이 확인 가능하다.<br><img src="bulma_button.png" alt="다양한 버튼 스타일"></p><p><code>themes/icarus/layout/widget/profile.jsx</code>을 보면 기존 followLink 코드를 볼 수 있다.</p><figure class="highlight jsx"><figcaption><span>themes/icarus/layout/widget/profile.jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;followLink ? <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"level"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"level-item button is-primary is-rounded"</span> <span class="attr">href</span>=<span class="string">&#123;followLink&#125;</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"noopener"</span>&gt;</span>&#123;followTitle&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> : <span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure><p>github follow 기능을 유지하고 버튼 스타일만 변경할 경우 위 코드의 class 부분을 <code>bulma</code> 링크에서 고른 원하는 스타일로 <strong>예) “level-item button is-info is-outlined is-rounded”</strong> 으로 변경 하면 되고, 기능도 home으로 변경하려면 기존의 위 코드를 주석 처리하고 아래의 코드를 넣어준다.</p><p>아래 코드로 변경하면 profile widget의 followLink가 아닌 홈(“/“) 경로로 static하게 고정된다.</p><figure class="highlight jsx"><figcaption><span>themes/icarus/layout/widget/profile.jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"level"</span>&gt;</span><br><span class="line">&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"level-item button is-info is-outlined is-rounded"</span> href=<span class="string">"/"</span> target=<span class="string">"_self"</span> rel=<span class="string">"noopener"</span>&gt;Home&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><h2 id="article-가독성을-위해-변경"><a href="#article-가독성을-위해-변경" class="headerlink" title="article 가독성을 위해 변경"></a>article 가독성을 위해 변경</h2><p>포스팅의 가독성은 <a href="https://louisbarranqueiro.github.io/hexo-theme-tranquilpeak/">hexo Tranquilpeak 테마</a>의 스타일이 좋은것 같았다. 해당 스타일의 css을 참고하여 나의 입맛에 맞추어 수정 하였다.</p><ol><li><p>포스트 제목 폰트 변경 (<code>&amp;.article</code> 밑 <code>.title</code>이 없을텐데 2~5줄 코드를 추가)</p><figure class="highlight js"><figcaption><span>themes/icarus/include/style/article.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&amp;.article</span><br><span class="line">    .title</span><br><span class="line">        font-size: <span class="number">2.0</span>em</span><br><span class="line">        font-weight: <span class="number">700</span></span><br><span class="line">        letter-spacing: <span class="number">-1.4</span>px;</span><br></pre></td></tr></table></figure></li><li><p>포스트 내용 폰트 변경 (<code>.content 내용을 아래와 같이 수정/추가</code>)</p><figure class="highlight js"><figcaption><span>themes/icarus/include/style/article.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.content</span><br><span class="line">    font-size: $article-font-size</span><br><span class="line">    line-height: <span class="number">1.9</span>em;</span><br><span class="line">    letter-spacing: <span class="number">-0.3</span>px;</span><br><span class="line">    color: #5d686f;</span><br><span class="line">    margin-top: <span class="number">20</span>px;</span><br></pre></td></tr></table></figure></li><li><p>heading 폰트 변경 (<code>h1</code>과 <code>h2</code> 수정)<br>heading 간격이 너무 붙어 있어서 조금 벌리고, h1, h2 폰트사이즈도 큰 차이가 없는것 같아서 수정</p><figure class="highlight js"><figcaption><span>themes/icarus/include/style/article.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">h1</span><br><span class="line">    font-size: <span class="number">1.95</span>em</span><br><span class="line">    font-weight: <span class="number">600</span></span><br><span class="line">    margin-top: <span class="number">50</span>px;</span><br><span class="line"></span><br><span class="line">h2</span><br><span class="line">    font-size: <span class="number">1.5</span>em</span><br><span class="line">    margin-top: <span class="number">35</span>px;</span><br></pre></td></tr></table></figure></li><li><p>columns 사이즈 변경<br>widescreen일 경우 포스팅내용의 좌우폭을 늘림, <a href="https://bulma.io/documentation/columns/sizes/#12-columns-system">bulma의 columns 사이즈</a>를 참고하여 기본 layout 사이즈를 1 높였다.</p><blockquote><p>메뉴얼을 보면 항상 12 columns 를 맞추게 되어있는데 내 블로그의 경우 블로그 내용을 볼때는 위젯을 우측 한줄만 사용함으로 사이즈를 1 높이면, widgets.jsx 을 1 줄여야 할것 같은데 생각보다 위젯이 너무 좁아보여서 그냥 포스팅 내용 폭만 늘렸다. (css를 잘몰라서 사용해보다가 이상한 부분이있으면 다시 조정해야겠다.)</p><p>내 블로그는 <code>글을 눌러서 볼때</code> columnsCount 가 2줄이므로 아래 7번째줄 코드만 <code>is-9-widescreen</code>으로 사이즈 1증가</p></blockquote><figure class="highlight jsx"><figcaption><span>themes/icarus/layout/layout.jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"columns"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=&#123;classname(&#123;</span><br><span class="line">        column: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">'order-2'</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">'column-main'</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">'is-12'</span>: columnCount === <span class="number">1</span>,</span><br><span class="line">        <span class="string">'is-8-tablet is-8-desktop is-9-widescreen'</span>: columnCount === <span class="number">2</span>,</span><br><span class="line">        <span class="string">'is-8-tablet is-8-desktop is-6-widescreen'</span>: columnCount === <span class="number">3</span></span><br><span class="line">    &#125;)&#125; dangerouslySetInnerHTML=&#123; <span class="attr">__html</span>: body &#125;&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;Widgets site=&#123;site&#125; config=&#123;config&#125; helper=&#123;helper&#125; page=&#123;page&#125; position=&#123;'left'&#125; /</span>&gt;</span><br><span class="line">    &lt;Widgets site=&#123;site&#125; config=&#123;config&#125; helper=&#123;helper&#125; page=&#123;page&#125; position=&#123;<span class="string">'right'</span>&#125; /&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="그-외에도-몇가지"><a href="#그-외에도-몇가지" class="headerlink" title="그 외에도 몇가지"></a>그 외에도 몇가지</h2><p>그외에도 이것저것 수정을 했는데 다 기억이 나지 않는다..<br>혹시 필요한 부분이 있다면 댓글 부탁드립니다.</p><ul><li>logo image 크기 늘림</li><li>navbar 의 메뉴간 사이 변경</li><li>Google Analytics는 계정생성 후 <code>themes/icarus/_config.yml</code> 에 <code>tracking_id</code> 추가시 적용 됨.</li><li>포스팅별 읽은 수 및 footer에 나오는 총 방문자는 <code>busuanzi: true</code> 만 적용하니 잘 적용 됨.<ul><li>덴마크어 yml만 적용되어있어서 처음 변경시 덴마크어로 나오는데, <code>themes/icarus/languages/ko.yml</code>에 <code>plugin: visit:</code>과 <code>visitor:</code> 추가하여 한글추가</li></ul></li><li>등</li></ul><p>끝.</p>]]></content:encoded>
      
      <comments>https://datahack.dev/2020/04/18/etc/hexo-blog/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
